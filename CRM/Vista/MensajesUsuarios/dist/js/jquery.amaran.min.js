(function(){!function(t,i,e,n){var o,a;(o=function(i){var e;e={position:"bottom right",content:" ",delay:3e3,sticky:!1,stickyButton:!1,inEffect:"fadeIn",outEffect:"fadeOut",theme:"default",themeTemplate:null,closeOnClick:!0,closeButton:!1,clearAll:!1,cssanimationIn:!1,cssanimationOut:!1,resetTimeout:!1,overlay:!1,overlayColor:"rgba(153,204,51,.9)",beforeStart:function(){},afterEnd:function(){},onClick:function(){},wrapper:".amaran-wrapper"},this.config=t.extend({},e,i),this.config.beforeStart(),this.init(),this.close()}).prototype={init:function(){var i,e,n,o,s,c,r;r=null,n=this.config.position.split(" "),t(this.config.wrapper).length&&t(this.config.wrapper).hasClass(this.config.position)?s=(r=t(this.config.wrapper+"."+n[0]+"."+n[1])).find(".amaran-wrapper-inner"):(r=t("<div>",{class:this.config.wrapper.substr(1,this.config.wrapper.length)+" "+this.config.position}).appendTo("body"),s=t("<div>",{class:"amaran-wrapper-inner"}).appendTo(r)),"object"==typeof this.config.content?c=null!=this.config.themeTemplate?this.config.themeTemplate(this.config.content):a[this.config.theme.split(" ")[0]+"Theme"](this.config.content):(this.config.content={},this.config.content.message=this.config.message,this.config.content.color="#27ae60",c=a.defaultTheme(this.config.content)),i={class:this.config.themeTemplate?"amaran "+this.config.content.themeName:this.config.theme&&!this.config.themeTemplate?"amaran "+this.config.theme:"amaran",html:this.buildHTML(c)},this.config.clearAll&&t(".amaran,.amaran-overlay").remove(),o=t("<div>",i).appendTo(s),"center"===n[0]&&this.centerCalculate(r,s),this.animation(this.config.inEffect,o,"show"),this.config.onClick&&(e=this,t(o).css({cursor:"default"}),t(o).on("click",function(i){t(i.target).is(".amaran-close")||t(i.target).is(".amaran-sticky")?i.preventDefault():e.config.onClick()})),this.config.resetTimeout&&(e=this,t(o).on("mouseenter",function(){return e.resetTimeout()}),t(o).on("mouseleave",function(){return e.resumeTimeout(o)})),this.config.overlay&&t(".amaran-overlay").length<=0&&t("body").prepend('<div class="amaran-overlay" style="background-color:'+this.config.overlayColor+'"></div>'),this.config.stickyButton&&(e=this,t(o).find(".amaran-sticky").on("click",function(){return t(this).hasClass("sticky")?(e.resumeTimeout(o),t(this).removeClass("sticky")):(e.resetTimeout(),t(this).addClass("sticky"))})),!0!==this.config.sticky&&this.hideDiv(o)},resetTimeout:function(){return this,clearTimeout(this.timeout)},resumeTimeout:function(t){var i;return(i=this).timeout=setTimeout(function(){return i.animation(i.config.outEffect,t,"hide")},i.config.delay)},buildHTML:function(t){return this.config.closeButton&&(t='<span class="amaran-close" data-amaran-close="true"></span>'+t),this.config.stickyButton&&(t='<span class="amaran-sticky" data-amaran-sticky="true"></span>'+t),t},centerCalculate:function(t,i){var e,n;i.find(".amaran").length,n=i.height(),e=(t.height()-n)/2,i.find(".amaran:first-child").animate({"margin-top":e},200)},animation:function(t,i,e){return"fadeIn"===t||"fadeOut"===t?this.fade(i,e):"show"===t?this.cssanimate(i,e):this.slide(t,i,e)},fade:function(t,i){var e;return this.removeOverlay(),e=this,"show"===i?this.config.cssanimationIn?t.addClass("animated "+this.config.cssanimationIn).show():t.fadeIn():this.config.cssanimationOut?(t.addClass("animated "+this.config.cssanimationOut),t.css({"min-height":0,height:t.outerHeight()}),void t.animate({opacity:0},function(){t.animate({height:0},function(){e.removeIt(t)})})):(t.css({"min-height":0,height:t.outerHeight()}),void t.animate({opacity:0},function(){t.animate({height:0},function(){e.removeIt(t)})}))},removeIt:function(i){var e,n;clearTimeout(this.timeout),i.remove(),e=(n=t(this.config.wrapper+"."+this.config.position.split(" ")[0]+"."+this.config.position.split(" ")[1])).find(".amaran-wrapper-inner"),"center"===this.config.position.split(" ")[0]&&this.centerCalculate(n,e),this.config.afterEnd()},getWidth:function(t){var i,e;return e=(i=t.clone().hide().appendTo("body")).outerWidth()+i.outerWidth()/2,i.remove(),e},getInfo:function(i){var e,n,o,a;e=i.offset(),n=t(this.config.wrapper).offset();try{o=e.top,a=e.left}catch(t){o=0,a=0}return{t:o,l:a,h:i.height(),w:i.outerWidth(),wT:n.top,wL:n.left,wH:t(this.config.wrapper).outerHeight(),wW:t(this.config.wrapper).outerWidth()}},getPosition:function(e,n){var o,a,s;return o=this.getInfo(e),a=this.config.position.split(" ")[1],(s={slideTop:{start:{top:-(o.wT+o.wH+2*o.h)},move:{top:0},hide:{top:-(o.t+2*o.h)},height:o.h},slideBottom:{start:{top:t(i).height()-o.wH+2*o.h},move:{top:0},hide:{top:t(i).height()-o.wH+2*o.h},height:o.h},slideLeft:{start:{left:"left"===a?1.5*-o.w:-t(i).width()},move:{left:0},hide:{left:"left"===a?1.5*-o.w:-t(i).width()},height:o.h},slideRight:{start:{left:"right"===a?1.5*o.w:t(i).width()},move:{left:0},hide:{left:"right"===a?1.5*o.w:t(i).width()},height:o.h}})[n]?s[n]:0},slide:function(t,i,e){var n,o;if(this.removeOverlay(),o=this.getPosition(i,t),"show"!==e)return n=this,i.animate(o.hide,function(){i.css({"min-height":0,height:o.height},function(){i.html(" ")})}).animate({height:0},function(){return n.removeIt(i)});i.show().css(o.start).animate(o.move)},removeOverlay:function(){if(this.config.overlay&&t(".amaran").length<=1)return t(".amaran-overlay").remove()},close:function(){var i;i=this,t("[data-amaran-close]").on("click",function(){i.animation(i.config.outEffect,t(this).closest("div.amaran"),"hide")}),this.config.closeOnClick||!this.config.closeButton?this.config.closeOnClick&&t(".amaran").on("click",function(){i.animation(i.config.outEffect,t(this),"hide")}):i.animation(i.config.outEffect,t(this).parent("div.amaran"),"hide")},hideDiv:function(t){var i;(i=this).timeout=setTimeout(function(){i.animation(i.config.outEffect,t,"hide")},i.config.delay)}},a={defaultTheme:function(t){return"",void 0!==t.color&&t.color,"<div class='default-spinner'><span style='background-color:"+t.color+"'></span></div><div class='default-message'><span>"+t.message+"</span></div>"},awesomeTheme:function(t){return'<i class="icon '+t.icon+' icon-large"></i><p class="bold">'+t.title+"</p><p><span>"+t.message+'</span><span class="light">'+t.info+"</span></p>"},userTheme:function(t){return'<div class="icon"><img src="'+t.img+'" alt="" /></div><div class="info"><b>'+t.user+"</b>"+t.message+"</div>"},colorfulTheme:function(t){return void 0!==t.color&&t.color,void 0!==t.bgcolor&&t.bgcolor,"<div class='colorful-inner' style='background-color:"+t.bgcolor+";color:"+t.color+"'>"+t.message+"</div>"},tumblrTheme:function(t){return'<div class="title">'+t.title+'</div><div class="content">'+t.message+"</div>"}},t.amaran=function(t){return new o(t)},t.amaran.close=function(){return t(".amaran-wrapper").remove(),!1}}(jQuery,window,document)}).call(this);
